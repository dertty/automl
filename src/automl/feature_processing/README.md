# Описание репозитория
Это репозиторий модуля AutoML FeatureSelection команды "Исследование данных и AI" в ДРКБ.
# Состав репозитория
Результатом работы модуля является отчет с EDA и датасет для обучения моделей.
Обработка данных объединена в единый Pipeline, то есть методы обработки будут последовательно применяться к исходному датасету.
## Обязательные атрибуты для инициализации
- df: pd.DataFrame() -> исходный датасет;
- index_cols: list -> список, хранящий названия колонок с идентификаторами, которые необходимо сохранить;
- target_col: str -> название колонки с целевой переменной;
- time_cols: list -> список, хранящий название колонок со временем.
## **Методы исследовательского анализа данных**
Эти методы позволяют провести EDA и лучше понять структуру данных.
### **- Аномалии данных**
### **- Баланс классов**
### **- Корреляция признаков**
### **- Стабильность целевой переменной в динамике**
### **- Box Plot таргета по категориальным фичам, которые попали в финальный набор признаков**
## **Методы предварительной обработки данных**
Эти методы позволяют провести препроцессинг для улучшения качества данных и снижения шума в них, а также разбить выборки на обучающую и тестовую.
### **Дубли в данных**
- Метод проверяет наличие полностью идентичных наблюдений и оставляет только уникальные наблюдения в датасете.
### **Константные и квазикоснтантные признаки**
- Метод удаляет признаки, значения которых не меняются или меняются крайне мало, в том числе признаки с единственным значением и пропусками.
### **Признаки с большой долей пропущенных значений**
- Метод удаляет признаки с долей пропущенных значений выше 20%.
### **Обработка выбросов**
- Метод обрабатывает выбросы в данных. Значения переменной ограничиваются минимальным(mean - 3* std) и максимальным(mean + 3* std) в соответствии с распределением.
### **Обработка категориальных переменных**
- Метод обрабатывает категориальные переменные одним из способов: OHE, Mean Target Encoding, ... .
### **Заполнение пропущенных значений**
- Метод заполняет пропущенные значения.
### **Adversarial тест**
- Метод поверяет расхождение в распределении выборок train и test. Удаляются признаки, которые хорошо разделяют обучающую и тестовую выборки (за исключением признаков, имеющих временную составляющую).
### **Корреляционный тест**
- Метод оценивает коррелированность каждого фактора с совокупностью остальных факторов по коэффициенту корреляции (Пирсон, Спирмен), сохраняет единственный из факторов с высокой корреляцией.
### **PSI тест**
- Метод поверяет репрезентативность выборок на уровне признаков. Удаляются признаки, распределения которых в выборках сильно отличаются.
### **Train test split**
- Метод разделяет исходный датасет на выборки для обучения и тестирования.
### **- Under/over_sampling**
## **Методы отбора признаков**
Эти методы позволяют отобрать наиболее значимые признаки для обучения моделей.
### **Recursive feature elimination с обучением модели LAMA**
- Метод выделяет набор признаков, при котором достигается наиболее высокое значение метрики.
# Использование репозитория
Обучение моделей для обработки данных происходит строго на тренировочных данных, чтобы избежать утечки данных из теста.

[Tutorial](https://github.com/dertty/automl/blob/feature_selection_dev/notebooks/feature_selection_example.ipynb)